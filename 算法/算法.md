# 1.红黑树

红黑树是许多“平衡”搜素树的一种，可以保证在最坏情况下，基本动态集合操作的时间复杂度为$O(log_2n)$

## 1.2 红黑树的性质

红黑树是一棵**二叉搜索树**，它在每个节点上增加了一个存储位来表示节点的颜色（RED | BLACK）。通过对任何一条从根到叶子的路径上各个节点的颜色进行约束，可以保证没有一条路径会比其他路径长出2倍，因而是近似于**平衡的**。

树种每个节点包含5个属性：$color, key, left, right , p(parent)$。如果一个节点没有子节点或父节点，则该节点相应指针属性的值为NIL，可以把这些NIL视为指向二叉搜索树的叶节点（**外部节点**）的指针，而把带关键字的节点视为树的**内部节点**

一颗红黑树是满足下面**红黑性质**的二叉搜索树：

1. 每个节点要么是红色，要么是黑色
2. 根节点是黑色的
3. 每个叶节点是黑色的
4. 如果一个结点是红色的，则它的两个子节点都是黑色的（注意，黑色的节点的子节点没有要求是红色的）
5. 对每个节点，从该节点到其**所有后代叶节点**的简单路径上，均包含相同数目的黑色节点。

![image-20220504140714652](../../AppData/Roaming/Typora/typora-user-images/image-20220504140714652.png)

从某个节点$x$出发，不含该节点，到达一个叶节点的任意一条简单路径上的黑色结点的个数成为该结点的黑高。记为$bh(x)$，从该结点出发的所有到其叶结点的路径的黑结点个数相同，根结点的黑高定义为红黑树的黑高。

> 一颗有n个内部结点的红黑树的高度至多为$2lg(n+1)$

